---
title: "함수호출규약"
categories: 
  - 해킹
  - 리버싱
  - 프로그래밍

last_modified_at: 2019-02-04T00:00:00+09:00
toc: true
toc_label: "목차" # toc 이름 정의
toc_icon: "cog" #font Awesome아이콘으로 toc 아이콘 설정
toc_sticky: true # 스크롤 내릴때 같이 내려가는 목차
---

# 함수호출규약

> Caller (호출자) - 함수를 호출한 쪽
>
> Callee (피호출좌) - 호출을 당한 함수

## cdecl

> 주로 C언어에서 사용되는 방식, Caller에서 스택 정리.

```
IN FUNCTION :
PUSH EBP
MOV EBP, ESP
INST~~~
POP EBP
RETN

MAIN :
PUSH EBP
MOV EBP,ESP
PUSH 2
PUSH 1
Call Function
ADD ESP, 8
POP EBP
RETN
```



## stdcall

> win32 api에서 사용되며, Callee 에서 스택을 정리하는 것이 특징.
>
> _stdcall 키워드를 붙여주면  stovall 방식으로 컴파일됨.

```
IN int _stdcall FUNCTION :
PUSH EBP
MOV EBP, ESP
INST~~~
POP EBP
RETN 8

MAIN :
PUSH EBP
MOV EBP,ESP
PUSH 2
PUSH 1
CALL stdcall function
POP EBP
RETN
```



## fastcall

> 기본적으로 stdcall 방식과 동일, 함수에 전달되는 파라미터 2개까지 스택이 아닌 레지스터를 이용하여 전달한다는 것이 특징이다.

